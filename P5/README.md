If you find issues while compiling with for loops support, please use 
gcc -std=c99 file_test.c

Run it using,
./a.out 4 f1 f2 f3 f4

This will generate 3 FILES
f1.server
f2.server
f3.server
